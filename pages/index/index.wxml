<!--index.wxml-->
<!-- <import src="../../utils/wxParse/wxParse.wxml"/> -->
<view class="header">
  <image
    bindtap="showMenu"
    class="float-icon sidebar-icon"
    src="../../assets/imgs/arrow-right.png"></image>
  <text>{{filePath}}</text>
</view>
<view class="container">
  <scroll-view scroll-x="true" scroll-y="true">
      <!-- <template is="wxParse" data="{{wxParseData:code.nodes}}"/> -->
      <view wx:for="{{codeRows}}" wx:key="{{index}}" class="code-row">
        <text wx:for="{{item}}"
              wx:key="{{index}}"
              class="{{'code-text ' + (item.class ? item.class : '')}}"
              selectable="true"
              space="ensp"
              decode="true"
          >{{item.text}}</text>
      </view>
  </scroll-view>
</view>
<view class="sidebar" animation="{{animationData}}">
    <view class="sidebar-title">
        <view class="sidebar-title-name">
          <view>{{reposPath}}</view>
          <picker bindchange="bindPickerChange" value="{{1}}" range="{{treeData}}">
            <view class="sidebar-title-branch">{{'master'}}</view>
          </picker>
        </view>
        <view>
          <image
            bindtap="hideMenu"
            class="sidebar-icon"
            src="../../assets/imgs/arrow-left.png"></image>
        </view>
    </view>
    <view class="sidebar-main">
      <tree data="{{tree}}" treeData="{{treeData}}" bind:viewFile="viewFile"></tree>
    </view>
</view>
